import { ApolloClient, InMemoryCache, HttpLink, split } from "@apollo/client";

// linera-link app
const httpLink = new HttpLink({
	uri: "http://localhost:8080/chains/e476187f6ddfeb9d588c7b45d3df334d5501d6499b3f9ad5595cae86cce16a65/applications/e476187f6ddfeb9d588c7b45d3df334d5501d6499b3f9ad5595cae86cce16a65000000000000000000000000e476187f6ddfeb9d588c7b45d3df334d5501d6499b3f9ad5595cae86cce16a65020000000000000000000000",
});

// fungible app
const fungibleLink = new HttpLink({
	uri: "http://localhost:8080/chains/e476187f6ddfeb9d588c7b45d3df334d5501d6499b3f9ad5595cae86cce16a65/applications/e476187f6ddfeb9d588c7b45d3df334d5501d6499b3f9ad5595cae86cce16a65030000000000000000000000e476187f6ddfeb9d588c7b45d3df334d5501d6499b3f9ad5595cae86cce16a65050000000000000000000000",
});

const client = new ApolloClient({
	link: split((operation) => operation.getContext().clientName === "fungible", fungibleLink, httpLink),
	cache: new InMemoryCache(),
});

export default client;
